<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sentence Translator — Hover & Select</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --accent:#4f46e5;
      --highlight:#fff7c2;
      --selected:#ffd8a8;
      --text:#0f172a;
      --muted:#6b7280;
    }
    body{
      margin:0;font-family:Inter, sans-serif;background:linear-gradient(180deg,var(--bg),#eef2ff);color:var(--text);
      display:flex;align-items:flex-start;justify-content:center;padding:32px;
    }
    .app{
      width:950px;max-width:96%;background:var(--card);border-radius:12px;padding:24px;box-shadow:0 8px 30px rgba(15,23,42,0.08);
    }
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 16px;color:var(--muted);font-size:14px}.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.level{font-size:13px;color:var(--accent);background:rgba(79,70,229,0.08);padding:2px 8px;border-radius:8px}
.star{cursor:pointer;font-size:20px;color:#d1d5db;transition:color .2s}
.star.active{color:#fbbf24}

.chips{display:flex;flex-wrap:wrap;gap:6px;margin:12px 0 20px}
.chip{padding:6px 10px;background:#f3f4f6;border-radius:16px;font-size:13px;cursor:pointer;transition:background .2s}
.chip:hover{background:rgba(79,70,229,0.15)}

.pane{display:grid;grid-template-columns:1fr 300px;gap:18px}

.text-area{padding:14px;border-radius:8px;background:#fbfbff;border:1px solid #eef2ff;min-height:180px}
.sentence{padding:4px 6px;border-radius:6px;cursor:pointer;display:inline-block;margin-right:4px;margin-bottom:6px}
.sentence:hover{background:rgba(79,70,229,0.07);}
.sentence.highlight{background:var(--highlight);}
.sentence.selected{background:var(--selected);border:1px solid rgba(15,23,42,0.06);}

.panel{background:#fff;border-radius:8px;padding:12px;border:1px solid #eef2ff}
.panel h2{font-size:14px;margin:0 0 8px}
.translation{min-height:120px;padding:10px;border-radius:6px;background:#f9fafb;border:1px dashed #eef2ff;color:var(--text)}
.meta{font-size:13px;color:var(--muted);margin-top:8px}

.form{margin-top:32px;padding:16px;background:#fafafa;border:1px solid #e5e7eb;border-radius:8px}
.form h2{margin:0 0 12px;font-size:16px}
.form input,.form textarea{width:100%;margin-bottom:10px;padding:8px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}
.form button{background:var(--accent);color:#fff;border:0;padding:8px 12px;border-radius:6px;cursor:pointer}

.tooltip{position:fixed;z-index:40;pointer-events:none;padding:6px 8px;border-radius:6px;background:rgba(17,24,39,0.95);color:white;font-size:12px;max-width:240px;box-shadow:0 8px 20px rgba(0,0,0,0.25);opacity:0;transition:opacity 0.15s ease}
.tooltip.show{opacity:1}

@media (max-width:820px){.pane{grid-template-columns:1fr}}

  </style>
</head>
<body>
  <div class="app">
    <div class="header">
      <h1 id="title">Weekend Hiking Story</h1>
      <div style="display:flex;gap:10px;align-items:center">
        <div class="level" id="level">B1-B2 Level</div>
        <div id="starBtn" class="star">★</div>
      </div>
    </div>
    <p class="lead">Hover over a sentence or keyword to see its translation. Click to select.</p><div class="chips" id="keywords"></div>

<div class="pane">
  <div>
    <div class="text-area" id="englishContainer"></div>
  </div>
  <div class="panel">
    <h2>Translation</h2>
    <div class="translation" id="translationBox">Hover a sentence or keyword…</div>
  </div>
</div>

<form class="form" id="newTextForm">
  <h2>+ Yeni Metin Ekle</h2>
  <input type="text" id="newTitle" placeholder="Başlık" required />
  <input type="text" id="newLevel" placeholder="Seviye (örn: B1)" required />
  <textarea id="newEnglish" placeholder="İngilizce metin" rows="3" required></textarea>
  <textarea id="newTurkish" placeholder="Türkçe metin" rows="3" required></textarea>
  <button type="submit">Oluştur</button>
</form>

  </div>  <div class="tooltip" id="tooltip"></div>  <script>
    const englishText = [
      "Last weekend, my friend tried to persuade me to go hiking with her.",
      "At first, I didn’t want to, but later I felt grateful because it turned out to be a wonderful experience.",
      "Hiking is popular worldwide, and many people see it as a way to escape daily problems and issues.",
      "The trail was slightly wet because it had rained the night before, and there was a lot of mud on the ground.",
      "Walking there wasn’t very convenient, but we laughed about it.",
      "At one point, I accidentally stepped backwards and almost fell.",
      "We decided to walk further up the mountain, even though the path was rough.",
      "When we finally reached the top, the view was amazing.",
      "I realized that sometimes a little discomfort is worth it for a great memory."
    ];

    const turkishText = [
      "Geçen hafta sonu, arkadaşım beni onunla yürüyüşe gitmeye ikna etmeye çalıştı.",
      "İlk başta istemedim ama sonradan minnettar hissettim çünkü harika bir deneyim oldu.",
      "Yürüyüş, dünya çapında popülerdir ve birçok insan bunu günlük sorunlardan ve konulardan uzaklaşmanın bir yolu olarak görür.",
      "Yol, bir gece önce yağmur yağdığı için hafifçe ıslaktı ve yerde çok fazla çamur vardı.",
      "Orada yürümek çok uygun değildi ama bu durumla dalga geçtik.",
      "Bir noktada yanlışlıkla geriye doğru adım attım ve neredeyse düştüm.",
      "Dağın daha da yukarısına doğru yürümeye karar verdik, her ne kadar yol pürüzlü olsa da.",
      "En sonunda zirveye ulaştığımızda manzara inanılmazdı.",
      "O an şunu fark ettim: Bazen biraz rahatsızlık, harika bir anı için değer."
    ];

    const keywords = [
      {en:"persuade", tr:"ikna etmek"},
      {en:"grateful", tr:"minnettar"},
      {en:"worldwide", tr:"dünya çapında"},
      {en:"issue", tr:"konu"},
      {en:"slightly", tr:"hafifçe"},
      {en:"mud", tr:"çamur"},
      {en:"convenient", tr:"uygun"},
      {en:"backwards", tr:"geriye doğru"},
      {en:"further", tr:"daha fazla"},
      {en:"rough", tr:"pürüzlü"}
    ];

    const container = document.getElementById('englishContainer');
    const translationBox = document.getElementById('translationBox');
    const tooltip = document.getElementById('tooltip');
    const starBtn = document.getElementById('starBtn');
    const keywordsDiv = document.getElementById('keywords');

    let selectedIndex = null;

    function renderSentences(){
      container.innerHTML = '';
      englishText.forEach((s, i) =>{
        const span = document.createElement('span');
        span.className = 'sentence';
        span.dataset.idx = i;
        span.textContent = s;

        span.addEventListener('mouseenter', ()=>showTranslation(turkishText[i]));
        span.addEventListener('mouseleave', ()=>{ if(selectedIndex===null) translationBox.textContent="Hover a sentence or keyword…" });
        span.addEventListener('click', ()=>{
          selectedIndex = i;
          applySelection();
        });

        container.appendChild(span);
      });
    }

    function renderKeywords(){
      keywordsDiv.innerHTML='';
      keywords.forEach((k, idx)=>{
        const chip=document.createElement('div');
        chip.className='chip';
        chip.textContent=k.en;
        chip.addEventListener('mouseenter', ()=>showTranslation(k.tr));
        chip.addEventListener('mouseleave', ()=>{ if(selectedIndex===null) translationBox.textContent="Hover a sentence or keyword…" });
        chip.addEventListener('click', ()=>{
          selectedIndex = 'kw'+idx;
          translationBox.textContent=k.tr;
        });
        keywordsDiv.appendChild(chip);
      });
    }

    function showTranslation(text){ translationBox.textContent=text; }

    function applySelection(){
      document.querySelectorAll('.sentence').forEach((s, i)=>{
        s.classList.toggle('selected', selectedIndex===i);
      });
      if(selectedIndex!==null && typeof selectedIndex==="number"){
        translationBox.textContent=turkishText[selectedIndex];
      }
    }

    // Star feature (localStorage)
    function loadStar(){
      const starred = localStorage.getItem('starred')==='true';
      starBtn.classList.toggle('active',starred);
    }
    starBtn.addEventListener('click',()=>{
      const active = starBtn.classList.toggle('active');
      localStorage.setItem('starred', active);
    });

    // New text form
    document.getElementById('newTextForm').addEventListener('submit',(e)=>{
      e.preventDefault();
      const title=document.getElementById('newTitle').value;
      const level=document.getElementById('newLevel').value;
      const en=document.getElementById('newEnglish').value.split('.').map(s=>s.trim()).filter(Boolean);
      const tr=document.getElementById('newTurkish').value.split('.').map(s=>s.trim()).filter(Boolean);
      document.getElementById('title').textContent=title;
      document.getElementById('level').textContent=level;
      englishText.splice(0,englishText.length,...en);
      turkishText.splice(0,turkishText.length,...tr);
      renderSentences();
      translationBox.textContent="Hover a sentence or keyword…";
      e.target.reset();
    });

    renderSentences();
    renderKeywords();
    loadStar();
  </script></body>
</html>